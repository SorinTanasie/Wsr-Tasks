(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,a,t){e.exports=t(88)},46:function(e,a,t){},47:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(29),l=t.n(r),o=(t(46),t(4)),s=(t(47),t(19)),i=function(e){var a=e.displayName,t=e.photoUrl;return c.a.createElement("div",{className:"navigation"},c.a.createElement(s.b,{to:"/user",className:"profil"},c.a.createElement("img",{src:t,alt:""}),a),c.a.createElement(s.b,{to:"/"},"Task"),c.a.createElement(s.b,{to:"/analitics"},"Analitics"))},u=t(12),m=t.n(u),d=t(11),p=t(18),f=t(26),h=(t(62),t(63),function(){var e=Object(p.a)(m.a.mark((function e(a,t){var n,c,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=E.doc("users/".concat(a.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return c=a.displayName,r=a.email,l=new Date,e.prev=9,e.next=12,n.set(Object(d.a)({displayName:c,email:r,createdAt:l},t));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error user auth ",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(a,t){return e.apply(this,arguments)}}());f.initializeApp({apiKey:"AIzaSyAM3h90ROKSjig5h0WcioRNcAkmtuDwKVY",authDomain:"wsr-tasks.firebaseapp.com",databaseURL:"https://wsr-tasks.firebaseio.com",projectId:"wsr-tasks",storageBucket:"wsr-tasks.appspot.com",messagingSenderId:"249106599452",appId:"1:249106599452:web:4decc93f808c4705fc19d9",measurementId:"G-VYVP4X2LRG"});var v=f.auth(),E=f.firestore(),b=t(24),g=(t(64),t(65),function(e){var a=e.addCard,t=Object(n.useState)(""),r=Object(o.a)(t,2),l=r[0],s=r[1];return c.a.createElement("div",{className:"empty-card card"},c.a.createElement("form",{className:"addCard-form",onSubmit:function(e){e.preventDefault(),l&&""!==l.trim()&&(a(l),s(""))}},c.a.createElement("input",{type:"text",className:"addCard-input",placeholder:"Add new task",value:l,onChange:function(e){return s(e.target.value)}})))}),N=(t(66),t(40)),w=t.n(N),k=(t(76),t(77),function(e){var a=e.handleCloseModal,t=e.removeTask,n=e.index;return c.a.createElement("div",{className:"modalHeader"},c.a.createElement("button",{className:"close-modal  icon",icon:"close",onClick:a},c.a.createElement("i",{className:"fas fa-times"})),c.a.createElement("button",{className:"remove-modal  icon",onClick:function(){a(),t(n)}},c.a.createElement("i",{className:"far fa-trash-alt"})))}),O=function(e){var a=e.index,t=e.removeTask,r=e.title,l=e.selectedTask,s=e.handleCloseModal,i=Object(n.useState)("test"),u=Object(o.a)(i,2),m=u[0],d=u[1];return c.a.createElement(w.a,{isOpen:!!l,contentLabel:"Task Modal",onRequestClose:s,ariaHideApp:!1,className:"modal"},c.a.createElement(k,{handleCloseModal:s,removeTask:t,index:a}),c.a.createElement("div",null,c.a.createElement("h1",{className:"modal-title"},r),c.a.createElement("div",{className:"description"},c.a.createElement("textarea",{defaultValue:m}),c.a.createElement("button",{className:"save-button",onClick:function(e){var a=e.target.parentNode.parentNode.childNodes[0].textContent,t=e.target.parentNode.parentNode.childNodes[0].value;a!==t?(console.log(a),console.log(t),console.log("saved!"),d(t),s()):console.log("already saved!")}},c.a.createElement("i",{className:"far fa-save"})))))},j=function(e){var a=e.index,t=e.removeTask,r=e.task,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1];return c.a.createElement("div",null,c.a.createElement(O,{title:r.title,selectedTask:i,handleCloseModal:function(e){u(void 0),console.log("handled close")},index:a,removeTask:t}),c.a.createElement("div",{className:"task"},c.a.createElement("p",{onClick:function(e){u(e.target)},className:"task-title"},r.title?r.title:"")))},y=(t(78),function(e){var a=e.addTask,t=(e.placeholder,Object(n.useState)("")),r=Object(o.a)(t,2),l=r[0],s=r[1];return c.a.createElement("form",{className:"input-form",onSubmit:function(e){e.preventDefault(),a(l,Date.now()),s("")}},c.a.createElement("input",{className:"task-input",type:"text",placeholder:"Add new task",value:l,onChange:function(e){return s(e.target.value)}}))}),C=(t(79),function(e){var a=e.card,t=Object(n.useState)([{}]),r=Object(o.a)(t,2),l=r[0],s=r[1];Object(n.useEffect)((function(){E.collection("tasks").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(e.data())})),s(a)}))}),[]);var i=function(e){var a=E.collection("tasks");a.onSnapshot((function(t){t.forEach((function(t){if(t.data().id===e){console.log(t.data().id);var n=t.id;a.doc(n).delete().then((function(){console.log("deleted: ",n)})).catch((function(e){console.log("error")}))}}))}))};return c.a.createElement("div",{className:"card non-empty-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h1",{className:"card-title"},a.title),c.a.createElement("div",{className:"tasks"},l.map((function(e,a){return c.a.createElement(j,{key:a,index:e.id,task:e,removeTask:i})}))),c.a.createElement(y,{addTask:function(e,a){var t=[].concat(Object(b.a)(l),[{title:e,id:a}]);""!==e.trim()&&(s(t),E.collection("tasks").add({title:e,id:a}).then((function(e){console.log("task written with id: ",e.id)})).catch((function(e){console.log("error: ",e)})))}})))}),S=function(){var e=Object(n.useState)([{title:"test"}]),a=Object(o.a)(e,2),t=a[0],r=a[1];Object(n.useEffect)((function(){E.collection("cards").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(e.data())})),r(a)}))}),[]);return c.a.createElement("div",{className:"homepage"},c.a.createElement("h1",{className:"title"},"Tasks"),c.a.createElement("div",{className:"board"},t.map((function(e,a){return c.a.createElement(C,{key:a,card:e})})),c.a.createElement(g,{addCard:function(e){if(0!==e.length){var a=[].concat(Object(b.a)(t),[{title:e}]);r(a),E.collection("cards").add({title:e}).then((function(e){console.log("card written with id: ",e.id)})).catch((function(e){console.log("error: ",e)}))}else console.log("error: empty input")},placeholder:"Add new card"})))},x=(t(80),function(){return c.a.createElement("div",{className:"analitics"},c.a.createElement("h1",null,"Analitics"))}),A=t(17),T=t(25),P=(t(81),function(e){var a=e.handleChange,t=e.label,n=Object(T.a)(e,["handleChange","label"]);return c.a.createElement("div",{className:"group"},c.a.createElement("input",Object.assign({className:"form-input",onChange:a},n)),t?c.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},t):null)}),I=(t(82),t(83),function(e){var a=e.children,t=e.clas,n=Object(T.a)(e,["children","clas"]);return c.a.createElement("button",Object.assign({className:"button ".concat(t)},n),a)}),D=function(){var e=Object(n.useState)({displayName:"",email:"",password:"",confirmPassword:""}),a=Object(o.a)(e,2),t=a[0],r=a[1],l=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,c,l,o,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=t.displayName,c=t.email,l=t.password,o=t.confirmPassword,l===o){e.next=5;break}return alert("Password dont match"),e.abrupt("return");case 5:return e.prev=5,e.next=8,v.createUserWithEmailAndPassword(c,l);case 8:return s=e.sent,i=s.user,e.next=12,h(i,{displayName:n});case 12:i.updateProfile({displayName:n}),r(Object(d.a)(Object(d.a)({},t),{},{displayName:"",email:"",password:"",confirmPassword:""})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(a){return e.apply(this,arguments)}}(),s=function(e){var a=e.target,n=a.name,c=a.value;r(Object(d.a)(Object(d.a)({},t),{},Object(A.a)({},n,c)))},i=t.displayName,u=t.email,f=t.password,E=t.confirmPassword;return c.a.createElement("div",{className:"sign-up"},c.a.createElement("h2",{className:"title"},"Sign up"),c.a.createElement("form",{className:"sign-up-form",onSubmit:l},c.a.createElement(P,{type:"text",name:"displayName",value:i,onChange:s,label:"name",required:!0}),c.a.createElement(P,{type:"email",name:"email",value:u,onChange:s,label:"email",required:!0}),c.a.createElement(P,{type:"password",name:"password",value:f,onChange:s,label:"password",required:!0}),c.a.createElement(P,{type:"password",name:"confirmPassword",value:E,onChange:s,label:"Confirm Password",required:!0}),c.a.createElement(I,{type:"submit"}," SIGN UP ")))},U=(t(84),function(){var e=Object(n.useState)({email:"",password:""}),a=Object(o.a)(e,2),t=a[0],r=a[1],l=t.email,s=t.password,i=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,v.signInWithEmailAndPassword(l,s);case 4:r({email:"",password:"",error:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r({error:"eroare"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),u=function(e){var a=e.target,n=a.value,c=a.name;r(Object(d.a)(Object(d.a)({},t),{},Object(A.a)({},c,n)))};return c.a.createElement("div",null,c.a.createElement("h2",null,"Sign in"),c.a.createElement("form",{className:"form",onSubmit:i},c.a.createElement(P,{type:"email",name:"email",value:l,onChange:u,label:"email",required:!0}),c.a.createElement(P,{type:"password",name:"password",value:s,onChange:u,label:"password",required:!0}),c.a.createElement(I,{type:"submit",value:"Submit"},"Sign in")))}),q=(t(85),function(){var e=Object(n.useState)(!0),a=Object(o.a)(e,2),t=a[0],r=a[1],l=function(){r(!t)};return c.a.createElement("div",{className:"authentification"},c.a.createElement("div",{className:"".concat(t?"":"right"," container")},c.a.createElement("div",{className:"".concat(t?"":"switch-active"," anim")},c.a.createElement(U,null)),c.a.createElement("div",{className:"".concat(t?"switch-active":""," anim")},c.a.createElement(D,null))),c.a.createElement("div",{className:"switch-container ".concat(t?"left":"")},c.a.createElement("div",{className:"".concat(t?"":"switch-active"," left-container")},c.a.createElement("h3",null,"SignUp"),c.a.createElement("p",null,"Fill up you personal information and start your jurney with us"),c.a.createElement("button",{onClick:l},"Sign up")),c.a.createElement("div",{className:"".concat(t?"switch-active":""," right-container")},c.a.createElement("h3",null,"SignIn"),c.a.createElement("p",null,"To keep connected with us please log in with you personal information"),c.a.createElement("button",{onClick:l},"Sign in"))))}),M=(t(86),function(e){var a=e.user,t=a.displayName,n=a.email,r=a.phoneNumber,l=a.photoUrl;return c.a.createElement("div",{className:"about-user"},c.a.createElement("div",{className:"user"},c.a.createElement("h2",null,"Profil"),c.a.createElement("h4",{onClick:function(){v.signOut()}},"Log Out"),c.a.createElement("div",{className:"profile"},c.a.createElement("img",{src:l,alt:""}),c.a.createElement("h5",null,"Nume:",t),c.a.createElement("h5",null,"Email:",n),c.a.createElement("h5",null,"Telefon:",r))),c.a.createElement("div",{className:"organizatie"},c.a.createElement("h2",null,"Company")))}),R=t(3);t(87);var W=function(){var e=Object(n.useState)({user:null}),a=Object(o.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)((function(){v.onAuthStateChanged((function(e){r({user:e})}))}),[]),c.a.createElement("div",{className:"App"},null!==t.user?c.a.createElement(s.a,null,c.a.createElement(i,{displayName:t.user.displayName,photoUrl:t.user.photoUrl}),c.a.createElement(R.c,null,c.a.createElement(R.a,{exact:!0,path:"/",component:S}),c.a.createElement(R.a,{exact:!0,path:"/analitics",component:x}),c.a.createElement(R.a,{exact:!0,path:"/user",render:function(){return c.a.createElement(M,{user:t.user})}}))):c.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.d45e3339.chunk.js.map