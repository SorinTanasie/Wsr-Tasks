(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,a,t){e.exports=t(88)},46:function(e,a,t){},47:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(29),l=t.n(c),s=(t(46),t(4)),o=(t(47),t(19)),i=function(e){var a=e.displayName,t=e.photoUrl;return r.a.createElement("div",{className:"navigation"},r.a.createElement(o.b,{to:"/user",className:"profil"},r.a.createElement("img",{src:t,alt:""}),a),r.a.createElement(o.b,{to:"/"},"Task"),r.a.createElement(o.b,{to:"/analitics"},"Analitics"))},u=t(12),m=t.n(u),d=t(11),p=t(18),f=t(26),v=(t(62),t(63),function(){var e=Object(p.a)(m.a.mark((function e(a,t){var n,r,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=h.doc("users/".concat(a.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=a.displayName,c=a.email,l=new Date,e.prev=9,e.next=12,n.set(Object(d.a)({displayName:r,email:c,createdAt:l},t));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error user auth ",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(a,t){return e.apply(this,arguments)}}());f.initializeApp({apiKey:"AIzaSyAM3h90ROKSjig5h0WcioRNcAkmtuDwKVY",authDomain:"wsr-tasks.firebaseapp.com",databaseURL:"https://wsr-tasks.firebaseio.com",projectId:"wsr-tasks",storageBucket:"wsr-tasks.appspot.com",messagingSenderId:"249106599452",appId:"1:249106599452:web:4decc93f808c4705fc19d9",measurementId:"G-VYVP4X2LRG"});var E=f.auth(),h=f.firestore(),b=t(21),N=(t(64),t(65),function(e){var a=e.addCard,t=Object(n.useState)(""),c=Object(s.a)(t,2),l=c[0],o=c[1];return r.a.createElement("div",{className:"empty-card card"},r.a.createElement("form",{className:"addCard-form",onSubmit:function(e){e.preventDefault(),l&&""!==l.trim()&&(a(l),o(""))}},r.a.createElement("input",{type:"text",className:"addCard-input",placeholder:"Add new task",value:l,onChange:function(e){return o(e.target.value)}})))}),g=(t(66),t(40)),k=t.n(g),w=(t(76),t(77),function(e){var a=e.handleCloseModal,t=e.removeTask,n=e.index;return r.a.createElement("div",{className:"modalHeader"},r.a.createElement("button",{className:"close-modal  icon",icon:"close",onClick:a},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("button",{className:"remove-modal  icon",onClick:function(){a(),t(n)}},r.a.createElement("i",{className:"far fa-trash-alt"})))}),O=function(e){var a=e.index,t=e.removeTask,c=e.title,l=e.selectedTask,o=e.handleCloseModal,i=Object(n.useState)("test"),u=Object(s.a)(i,2),m=u[0],d=u[1];return r.a.createElement(k.a,{isOpen:!!l,contentLabel:"Task Modal",onRequestClose:o,ariaHideApp:!1,className:"modal"},r.a.createElement(w,{handleCloseModal:o,removeTask:t,index:a}),r.a.createElement("div",null,r.a.createElement("h1",{className:"modal-title"},c),r.a.createElement("div",{className:"description"},r.a.createElement("textarea",{defaultValue:m}),r.a.createElement("button",{className:"save-button",onClick:function(e){var a=e.target.parentNode.parentNode.childNodes[0].textContent,t=e.target.parentNode.parentNode.childNodes[0].value;a!==t?(console.log(a),console.log(t),console.log("saved!"),d(t),o()):console.log("already saved!")}},r.a.createElement("i",{className:"far fa-save"})))))},j=function(e){var a=e.index,t=e.removeTask,c=e.task,l=Object(n.useState)(!1),o=Object(s.a)(l,2),i=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(O,{title:c.title,selectedTask:i,handleCloseModal:function(e){u(void 0),console.log("handled close")},index:a,removeTask:t}),r.a.createElement("div",{className:"task"},r.a.createElement("p",{onClick:function(e){u(e.target)},className:"task-title"},c.title?c.title:"")))},y=(t(78),function(e){var a=e.addTask,t=(e.placeholder,Object(n.useState)("")),c=Object(s.a)(t,2),l=c[0],o=c[1];return r.a.createElement("form",{className:"input-form",onSubmit:function(e){e.preventDefault(),a(l),o("")}},r.a.createElement("input",{className:"task-input",type:"text",placeholder:"Add new task",value:l,onChange:function(e){return o(e.target.value)}}))}),C=(t(79),function(e){var a=e.card,t=Object(n.useState)([{}]),c=Object(s.a)(t,2),l=c[0],o=c[1],i=function(e){var a=Object(b.a)(l);a.splice(e,1),o(a)};return r.a.createElement("div",{className:"card non-empty-card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h1",{className:"card-title"},a.title),r.a.createElement("div",{className:"tasks"},l.map((function(e,a){return r.a.createElement(j,{key:a,index:a,task:e,removeTask:i})}))),r.a.createElement(y,{addTask:function(e){var a=[].concat(Object(b.a)(l),[{title:e}]);""!==e.trim()&&o(a),console.log("add task: "+e)}})))}),x=function(){var e=Object(n.useState)([{title:"test"}]),a=Object(s.a)(e,2),t=a[0],c=a[1];return r.a.createElement("div",{className:"homepage"},r.a.createElement("h1",{className:"title"},"Tasks"),r.a.createElement("div",{className:"board"},t.map((function(e,a){return r.a.createElement(C,{key:a,card:e})})),r.a.createElement(N,{addCard:function(e){var a=[].concat(Object(b.a)(t),[{title:e}]);c(a),console.log("add card:"+e)},placeholder:"Add new card"})))},S=(t(80),function(){return r.a.createElement("div",{className:"analitics"},r.a.createElement("h1",null,"Analitics"))}),A=t(17),T=t(25),P=(t(81),function(e){var a=e.handleChange,t=e.label,n=Object(T.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:a},n)),t?r.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},t):null)}),I=(t(82),t(83),function(e){var a=e.children,t=e.clas,n=Object(T.a)(e,["children","clas"]);return r.a.createElement("button",Object.assign({className:"button ".concat(t)},n),a)}),D=function(){var e=Object(n.useState)({displayName:"",email:"",password:"",confirmPassword:""}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r,l,s,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=t.displayName,r=t.email,l=t.password,s=t.confirmPassword,l===s){e.next=5;break}return alert("Password dont match"),e.abrupt("return");case 5:return e.prev=5,e.next=8,E.createUserWithEmailAndPassword(r,l);case 8:return o=e.sent,i=o.user,e.next=12,v(i,{displayName:n});case 12:i.updateProfile({displayName:n}),c(Object(d.a)(Object(d.a)({},t),{},{displayName:"",email:"",password:"",confirmPassword:""})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(a){return e.apply(this,arguments)}}(),o=function(e){var a=e.target,n=a.name,r=a.value;c(Object(d.a)(Object(d.a)({},t),{},Object(A.a)({},n,r)))},i=t.displayName,u=t.email,f=t.password,h=t.confirmPassword;return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h2",{className:"title"},"I don't have an account"),r.a.createElement("span",null,"Sign up with your email and password"),r.a.createElement("form",{className:"sign-up-form",onSubmit:l},r.a.createElement(P,{type:"text",name:"displayName",value:i,onChange:o,label:"name",required:!0}),r.a.createElement(P,{type:"email",name:"email",value:u,onChange:o,label:"email",required:!0}),r.a.createElement(P,{type:"password",name:"password",value:f,onChange:o,label:"password",required:!0}),r.a.createElement(P,{type:"password",name:"confirmPassword",value:h,onChange:o,label:"Confirm Password",required:!0}),r.a.createElement(I,{type:"submit"}," SIGN UP ")))},U=(t(84),function(){var e=Object(n.useState)({email:"",password:""}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=t.email,o=t.password,i=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,E.signInWithEmailAndPassword(l,o);case 4:c({email:"",password:"",error:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({error:"eroare"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),u=function(e){var a=e.target,n=a.value,r=a.name;c(Object(d.a)(Object(d.a)({},t),{},Object(A.a)({},r,n)))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Sign in"),r.a.createElement("form",{className:"form",onSubmit:i},r.a.createElement(P,{type:"email",name:"email",value:l,onChange:u,label:"email",required:!0}),r.a.createElement(P,{type:"password",name:"password",value:o,onChange:u,label:"password",required:!0}),r.a.createElement(I,{type:"submit",value:"Submit"},"Sign in")))}),q=(t(85),function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1],l=function(){c(!t)};return r.a.createElement("div",{className:"authentification"},r.a.createElement("div",{className:"".concat(t?"":"switch-active")},r.a.createElement(U,null),r.a.createElement("h3",{onClick:l},"Don't have an account? Sign Up")),r.a.createElement("div",{className:"".concat(t?"switch-active":"")},r.a.createElement(D,null),r.a.createElement("h3",{onClick:l},"You have an account? Sign In")))}),M=(t(86),function(e){var a=e.user,t=a.displayName,n=a.email,c=a.phoneNumber,l=a.photoUrl;return r.a.createElement("div",{className:"about-user"},r.a.createElement("div",{className:"user"},r.a.createElement("h2",null,"Profil"),r.a.createElement("h4",{onClick:function(){E.signOut()}},"Log Out"),r.a.createElement("div",{className:"profile"},r.a.createElement("img",{src:l,alt:""}),r.a.createElement("h5",null,"Nume:",t),r.a.createElement("h5",null,"Email:",n),r.a.createElement("h5",null,"Telefon:",c))),r.a.createElement("div",{className:"organizatie"},r.a.createElement("h2",null,"Company")))}),R=t(3);t(87);var W=function(){var e=Object(n.useState)({user:null}),a=Object(s.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)((function(){E.onAuthStateChanged((function(e){c({user:e})}))}),[]),r.a.createElement("div",{className:"App"},console.log(t),null===t.user?console.log("nu e"):console.log("e ceva"),null!==t.user?r.a.createElement(o.a,null,r.a.createElement(i,{displayName:t.user.displayName,photoUrl:t.user.photoUrl}),r.a.createElement(R.c,null,r.a.createElement(R.a,{exact:!0,path:"/",component:x}),r.a.createElement(R.a,{exact:!0,path:"/analitics",component:S}),r.a.createElement(R.a,{exact:!0,path:"/user",render:function(){return r.a.createElement(M,{user:t.user})}}))):r.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.036e8c68.chunk.js.map